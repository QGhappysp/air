<form id="edit-form" class="form-horizontal form-ajax" role="form" data-toggle="validator" method="POST" action="">
    {:token()}
    <div class="form-group disabled">
        <label for="api_client_id" class="control-label col-xs-12 col-sm-2">API CLIENT ID:</label>
        <div class="col-xs-12 col-sm-8">
            <input value="{$row.api_client_id|htmlentities}" type="text" class="form-control" id="api_client_id" name="row[api_client_id]" data-rule="required" />
        </div>
    </div>
    <div class="form-group">
        <label for="api_key" class="control-label col-xs-12 col-sm-2">API KEY:</label>
        <div class="col-xs-12 col-sm-8">
            <input value="{$row.api_key|htmlentities}" type="text" class="form-control" id="api_key" name="row[api_key]" data-rule="required" />
        </div>
    </div>
    <div class="form-group layer-footer">
        <label class="control-label col-xs-12 col-sm-2"></label>
        <div class="col-xs-12 col-sm-8">
            <button id="myButton" type="submit" class="btn btn-primary btn-embossed">{:__('OK')}</button>
        </div>
    </div>
</form>

<script>
    document.getElementById('edit-form').addEventListener('submit', function(event) {
        var btn = document.getElementById('myButton');
        btn.innerHTML = '<i class="fa fa-spinner fa-spin"></i> 修改中';

        btn.disabled = true; // 禁用按钮
    });
</script>

